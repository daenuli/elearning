import{_ as L,L as S,H as M,S as T,P as D,D as F,d as u,p as H,E as h,o as n,c as V,w as m,z as P,b as _,a as s,g as y,t as e,v as f,I as g,e as d,i as v,F as p,G as Y}from"./app-31c25c41.js";import A from"./Layout-e4c38fc2.js";import{S as I}from"./sweetalert2.all-ca2a8785.js";import{h as B}from"./moment-fbc5633a.js";const N={props:{subjects:Object,classes:Object,books:Object},name:"admin-layout",components:{Link:S,Head:M,Layout:A,Sidebar:T,PageHeader:D,PageMainHeader:F,moment:B},methods:{forramttedDate:function(t){return B(t).format("MMM D YYYY")}},setup(t){let l=u(t.books);H(()=>{l.value=t.books});let c=u(""),a=u(""),b=u("");return{destroy:i=>{I.fire({title:"Are you sure?",text:`Do you want to delete book ${i.title}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!"}).then(r=>{r.isConfirmed&&P.Inertia.delete(route("admin.books.destroy",i.id))})},subject_id:b,class_id:a,title:c,search:()=>{l.value=[],axios.get(route("admin.books.search"),{params:{class_id:a.value,subject_id:b.value,title:c.value}}).then(i=>{l.value=i.data})},bookList:l}}},O={class:"container-fluid"},U={class:"row"},E={class:"col-sm-12"},q={class:"card"},z={class:"card-header"},G={class:"f-w-300"},J=s("i",{class:"fa fa-book"},null,-1),K={class:"card-header-right"},Q=s("i",{class:"fa fa-plus"},null,-1),R={class:"card-body btn-group-wrapper"},W={class:"row"},X={class:"col-md-4"},Z={class:"mb-3 row"},x={class:"col-sm-5 col-form-label"},$={class:"col-sm-7"},ss={value:""},os=["value"],ts={class:"col-md-4"},es={class:"mb-3 row"},ls={class:"col-sm-5 col-form-label"},as={class:"col-sm-7"},ns={value:""},is=["value"],ds={class:"col-md-4"},cs={class:"mb-3 row"},rs={class:"col-sm-5 col-form-label"},_s={class:"col-sm-7"},us=["placeholder"],hs={class:"row mt-3"},ms={class:"col-12"},bs={class:"table-responsive"},fs={class:"table table-sm"},vs=s("th",{scope:"col"},"#",-1),ps={scope:"col"},ks={scope:"col"},ys={scope:"col"},gs={scope:"col"},Bs={scope:"col"},ws={scope:"row"},Cs=s("i",{class:"fa fa-book"},null,-1),js={class:"btn-group",role:"group","aria-label":"Basic example"},Ls=s("i",{class:"fa fa-pencil"},null,-1),Ss=["onClick"],Ms=s("i",{class:"fa fa-trash"},null,-1),Ts=[Ms];function Ds(t,l,c,a,b,w){const k=h("PageHeader"),i=h("Message"),r=h("Link"),C=h("Layout");return n(),V(C,{pageTitle:t.__("Books")},{default:m(()=>[_(k,{breadcrumb_title:t.__("Books")},null,8,["breadcrumb_title"]),s("div",O,[_(i),s("div",U,[s("div",E,[s("div",q,[s("div",z,[s("h5",G,[J,y(" "+e(t.__("Books")),1)]),s("div",K,[_(r,{href:t.route("admin.books.create"),class:"btn btn-light btn-sm"},{default:m(()=>[Q,y(" "+e(t.__("Create")),1)]),_:1},8,["href"])])]),s("div",R,[s("div",W,[s("div",X,[s("div",Z,[s("label",x,[s("b",null,e(t.__("FilterBy Class")),1)]),s("div",$,[f(s("select",{"onUpdate:modelValue":l[0]||(l[0]=o=>a.class_id=o),onChange:l[1]||(l[1]=(...o)=>a.search&&a.search(...o)),class:"form-control form-control-sm",id:"FilterByClass"},[s("option",ss," ("+e(t.__("All Classes"))+")",1),(n(!0),d(p,null,v(c.classes,o=>(n(),d("option",{value:o.id,key:o.id},e(o.name),9,os))),128))],544),[[g,a.class_id]])])])]),s("div",ts,[s("div",es,[s("label",ls,[s("b",null,e(t.__("FilterBy Subject")),1)]),s("div",as,[f(s("select",{"onUpdate:modelValue":l[2]||(l[2]=o=>a.subject_id=o),onChange:l[3]||(l[3]=(...o)=>a.search&&a.search(...o)),class:"form-control form-control-sm",id:"FilterBySubject"},[s("option",ns," ("+e(t.__("All Subjects"))+")",1),(n(!0),d(p,null,v(c.subjects,o=>(n(),d("option",{value:o.id,key:o.id},e(o.title),9,is))),128))],544),[[g,a.subject_id]])])])]),s("div",ds,[s("div",cs,[s("label",rs,[s("b",null,e(t.__("Title")),1)]),s("div",_s,[f(s("input",{"onUpdate:modelValue":l[4]||(l[4]=o=>a.title=o),onInput:l[5]||(l[5]=(...o)=>a.search&&a.search(...o)),class:"form-control form-control-sm",type:"text",placeholder:t.__("Title")},null,40,us),[[Y,a.title]])])])])]),s("div",hs,[s("div",ms,[s("div",bs,[s("table",fs,[s("thead",null,[s("tr",null,[vs,s("th",ps,e(t.__("Title")),1),s("th",ks,e(t.__("Subject")),1),s("th",ys,e(t.__("Class")),1),s("th",gs,e(t.__("Book")),1),s("th",Bs,e(t.__("Actions")),1)])]),s("tbody",null,[(n(!0),d(p,null,v(a.bookList,(o,j)=>(n(),d("tr",{key:o.id},[s("th",ws,e(j+1),1),s("td",null,e(o.title),1),s("td",null,e(o.subject.title),1),s("td",null,e(o.school_class.name),1),s("td",null,[_(r,{href:t.route("admin.books.show",o.id),class:"btn btn-info btn-xs"},{default:m(()=>[Cs]),_:2},1032,["href"])]),s("td",null,[s("div",js,[_(r,{href:t.route("admin.books.edit",o.id),class:"btn btn-info btn-xs"},{default:m(()=>[Ls]),_:2},1032,["href"]),s("button",{onClick:Fs=>a.destroy(o),class:"btn btn-danger btn-xs"},Ts,8,Ss)])])]))),128))])])])])])])])])])])]),_:1},8,["pageTitle"])}const As=L(N,[["render",Ds]]);export{As as default};
