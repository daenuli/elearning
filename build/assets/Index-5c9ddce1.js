import C from"./Sidebar-3c623214.js";import H from"./PageMainHeader-912a94ba.js";import F from"./Layout-248c6c4e.js";import M from"./PageHeader-38b8e3e2.js";import{_ as P,L as B,H as D,d as p,u as N,E as _,o as d,e as c,b as r,a as s,t,f,g as k,w as j,v as V,I as O,F as v,i as A,n as g,m as I}from"./app-ae2d89af.js";import{h as E}from"./moment-fbc5633a.js";const T={props:{subjects:Object,assignments:Object,errors:Object},components:{Link:B,Head:D,Layout:F,Sidebar:C,PageHeader:M,PageMainHeader:H,moment:E},setup(e){const i=l=>l.status.is_completed;let n=p(e.assignments),a=p("");const y=()=>{if(a.value){axios.get(route("student.active-assignments.search"),{params:{subject_id:a.value}}).then(l=>{n.value=[],n.value=l.data});return}n.value=e.assignments};let u=p("");const h=l=>new Date(l)>=new Date,m=N({file:null});return{isAssignmentOpen:h,form:m,url:u,submmitForm:l=>{m.post(u.value,{onSuccess:()=>{$(`.upload-assignment${l}`).modal("hide")}})},isAssignmentCompleted:i,assignmnetsList:n,subject_id:a,search:y}}},z={class:"page-body-wrapper"},R={class:"page-body"},U={class:"container-fluid"},q={class:"container-fluid mt-3"},G={key:0,class:"alert alert-success",role:"alert"},J={class:"row"},K={class:"col-sm-12"},Q={class:"card"},W={class:"card-header"},X={class:"f-w-300"},Y=s("i",{class:"fa fa-book"},null,-1),Z={class:"card-header-right"},x=s("i",{class:"fa fa-caret-left white"},null,-1),ss={class:"card-body"},es={class:"row"},ts={class:"col-md-6"},os={class:"mb-3 row"},as={class:"col-sm-5 col-form-label"},ls={class:"col-sm-7"},is={value:""},ns=["value"],ds={class:"row"},cs={class:"col-md-12"},rs={class:"table-responsive"},_s={class:"table table-sm"},ms=s("th",{scope:"col"},"Sr. No.",-1),us={scope:"col"},hs={scope:"col"},bs={scope:"col"},ps={scope:"col"},fs={scope:"col"},vs={scope:"col"},gs={class:"text-danger"},ys={class:"btn-group",role:"group","aria-label":"Basic example"},Ss=s("i",{class:"fa fa-eye"},null,-1),ws=["data-bs-target","onClick","title"],ks=s("i",{class:"fa fa-upload"},null,-1),js=[ks],As=["onSubmit"],Ls={class:"modal-dialog modal-lg modal-dialog-centered"},Cs={class:"modal-content"},Hs={class:"modal-header"},Fs={class:"modal-title",id:"mySmallModalLabel"},Ms={class:"modal-body"},Ps={class:"row mt-3"},Bs={class:"col-md-12"},Ds={class:"form-label"},Ns={class:"txt-danger"},Vs={class:"modal-footer"},Os={class:"btn btn-light","data-bs-dismiss":"modal"},Is={class:"btn btn-primary",type:"submit"},Es={key:0,class:"text-center mt-3"};function Ts(e,i,n,a,y,u){const h=_("Head"),m=_("PageMainHeader"),S=_("Sidebar"),l=_("PageHeader"),w=_("Link");return d(),c(v,null,[r(h,{title:e.__("Assignments")},null,8,["title"]),r(m),s("div",z,[r(S),s("div",R,[s("div",U,[r(l,{breadcrumb_title:e.__("Assignments")},null,8,["breadcrumb_title"])]),s("div",q,[e.$page.props.flash.success?(d(),c("div",G,[s("p",null,t(e.$page.props.flash.success),1)])):f("",!0),s("div",J,[s("div",K,[s("div",Q,[s("div",W,[s("h5",X,[Y,k(t(e.__("Assignments")),1)]),s("div",Z,[r(w,{href:e.route("student.active-lessons.index"),class:"pull-right white"},{default:j(()=>[x,k("Back")]),_:1},8,["href"])])]),s("div",ss,[s("div",es,[s("div",ts,[s("div",os,[s("label",as,[s("b",null,t(e.__("FilterBy Subject")),1)]),s("div",ls,[V(s("select",{"onUpdate:modelValue":i[0]||(i[0]=o=>a.subject_id=o),onChange:i[1]||(i[1]=(...o)=>a.search&&a.search(...o)),class:"form-control form-control-sm",id:"exampleFormControlSelect31"},[s("option",is," ("+t(e.__("All Subjects"))+")",1),(d(!0),c(v,null,A(n.subjects,o=>(d(),c("option",{value:o.id,key:o.id},t(o.title),9,ns))),128))],544),[[O,a.subject_id]])])])])]),s("div",ds,[s("div",cs,[s("div",rs,[s("table",_s,[s("thead",null,[s("tr",null,[ms,s("th",us,t(e.__("Title")),1),s("th",hs,t(e.__("Subject")),1),s("th",bs,t(e.__("Due Date")),1),s("th",ps,t(e.__("Submit")),1),s("th",fs,t(e.__("Result")),1),s("th",vs,t(e.__("Actions")),1)])]),s("tbody",null,[(d(!0),c(v,null,A(a.assignmnetsList,(o,L)=>(d(),c("tr",{key:o.id},[s("td",null,"Assignment # "+t(L+1),1),s("td",null,t(o.title),1),s("td",null,t(o.subject.title),1),s("td",gs,t(o.end_date),1),s("td",null,[s("span",{class:g(["badge",o.is_completed?"badge-success":"badge-warning"])},t(o.is_completed?"Submitted":"Pending"),3)]),s("td",null,t(e.__("Score"))+": "+t(o.status.marks_obtained),1),s("td",null,[s("div",ys,[r(w,{href:e.route("student.assignment.show",o.id),class:"btn btn-success btn-xs"},{default:j(()=>[Ss]),_:2},1032,["href"]),o.is_completed?f("",!0):(d(),c("a",{key:0,href:"#",class:"btn btn-primary btn-xs",type:"button","data-bs-toggle":"modal","data-bs-target":`.upload-assignment${o.id}`,onClick:b=>a.url=e.route("student.assignment.store",o.id),title:e.__("Submit Assignment")},js,8,ws))])]),s("div",{class:g(["modal fade",`upload-assignment${o.id}`]),tabindex:"-1",role:"dialog","aria-labelledby":"mySmallModalLabel","aria-hidden":"true"},[s("form",{class:"form theme-form",onSubmit:I(b=>a.submmitForm(o.id),["prevent"])},[s("div",Ls,[s("div",Cs,[s("div",Hs,[s("h4",Fs,t(e.__("Submit Assignment")),1)]),s("div",Ms,[s("div",Ps,[s("div",Bs,[s("label",Ds,t(e.__("File")),1),s("input",{class:g(["pl-2",[n.errors.file?"is-invalid":""]]),type:"file",onInput:i[2]||(i[2]=b=>a.form.file=b.target.files[0])},null,34),s("div",Ns,t(n.errors.file),1)])])]),s("div",Vs,[s("button",Os,t(e.__("Close")),1),s("button",Is,t(e.__("Submit Assignment")),1)])])])],40,As)],2)]))),128))])]),a.assignmnetsList.length?f("",!0):(d(),c("p",Es,t(e.__("No assignments found"))+". ",1))])])])])])])])])])])],64)}const Ks=P(T,[["render",Ts]]);export{Ks as default};
