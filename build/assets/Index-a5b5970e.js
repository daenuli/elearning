import j from"./Sidebar-70ec4b27.js";import C from"./PageMainHeader-1aa20976.js";import H from"./Layout-0cebbb75.js";import D from"./PageHeader-ccea9f45.js";import{_ as M,L as B,H as F,d as p,E as _,o as a,e as l,b as i,a as e,t as o,v as P,I as N,F as u,i as f,z as Y,w as y,g as b,n as x}from"./app-31c25c41.js";import{S as A}from"./sweetalert2.all-ca2a8785.js";import{h as g}from"./moment-fbc5633a.js";const V={props:{subjects:Object,lessons:Object},name:"admin-layout",components:{Link:B,Head:F,Layout:H,Sidebar:j,PageHeader:D,PageMainHeader:C,moment:g},methods:{forramttedDate:function(t){return g(t).format("MMM D YYYY")}},setup(t){let n=p(t.lessons),r=p("");return{destroy:c=>{A.fire({title:"Are you sure?",text:`Do you want to delete lesson ${c.title}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!"}).then(m=>{m.isConfirmed&&Y.Inertia.delete(route("student.lessons.destroy",c.id))})},subject_id:r,search:()=>{if(r.value){axios.get(route("student.active-lessons.search"),{params:{subject_id:r.value}}).then(c=>{n.value=[],n.value=c.data});return}n.value=t.lessons},lessonsList:n}}},I={class:"page-body-wrapper"},z={class:"page-body"},E={class:"container-fluid"},O={class:"container-fluid"},T={class:"row"},q={class:"col-md-6 offset-md-3"},U={class:"mb-3 row"},G={class:"col-form-label"},J={value:""},K=["value"],Q={key:0,class:"row"},R={class:"card"},W={class:"card-header"},X={class:"f-w-300 text-left"},Z=e("i",{class:"fa fa-angle-double-right white"},null,-1),$={class:"card-body"},ee={class:"table-responsive"},se={class:"table table-sm"},te={class:"text-danger"},oe=["data-bs-target"],ae=e("i",{class:"fa fa-files-o"},null,-1),le=e("i",{class:"fa fa-users"},null,-1),ne={class:"modal-dialog modal-lg"},de={class:"modal-content"},ie=e("div",{class:"modal-header"},[e("h4",{class:"modal-title",id:"mySmallModalLabel"},"Files"),e("button",{class:"close",type:"button","aria-label":"Close","data-bs-dismiss":"modal"},[e("span",{"aria-hidden":"true"},"Ã—")])],-1),re={class:"modal-body text-center"},ce={key:0,style:{color:"gray"}},_e=["href"],ue={key:1,class:"row"},me=e("div",{class:"col-md-12"},[e("div",{class:"card"},[e("div",{class:"card-body"},[e("p",{class:"text-center"},"No lessons found.")])])],-1),he=[me];function fe(t,n,r,d,w,c){const m=_("Head"),L=_("PageMainHeader"),S=_("Sidebar"),k=_("PageHeader"),v=_("Link");return a(),l(u,null,[i(m,{title:t.__("Active Lessons")},null,8,["title"]),i(L),e("div",I,[i(S),e("div",z,[e("div",E,[i(k,{breadcrumb_title:t.__("Active Lessons")},null,8,["breadcrumb_title"])]),e("div",O,[e("div",T,[e("div",q,[e("div",U,[e("label",G,[e("b",null,o(t.__("FilterBy Subject")),1)]),P(e("select",{"onUpdate:modelValue":n[0]||(n[0]=s=>d.subject_id=s),onChange:n[1]||(n[1]=(...s)=>d.search&&d.search(...s)),class:"form-control form-control-sm",id:"exampleFormControlSelect31"},[e("option",J," ("+o(t.__("All Subjects"))+")",1),(a(!0),l(u,null,f(r.subjects,s=>(a(),l("option",{value:s.id,key:s.id},o(s.title),9,K))),128))],544),[[N,d.subject_id]])])])]),d.lessonsList.length?(a(),l("div",Q,[(a(!0),l(u,null,f(d.lessonsList,s=>(a(),l("div",{class:"col-sm-4",key:s.id},[e("div",R,[e("div",W,[e("h6",X,o(s.title),1),i(v,{href:t.route("student.lessons.show",s.id),class:"btn btn-primary btn-sm"},{default:y(()=>[b(o(t.__("Start Lesson"))+" ",1),Z]),_:2},1032,["href"])]),e("div",$,[e("div",ee,[e("table",se,[e("tr",null,[e("th",null,o(t.__("Due Date")),1),e("td",te,o(s.end_date),1)]),e("tr",null,[e("th",null,o(t.__("Subject")),1),e("td",null,o(s.subject.title),1)]),e("tr",null,[e("th",null,o(t.__("Files")),1),e("td",null,[e("a",{href:"","data-bs-toggle":"modal","data-bs-target":`.lesson-files-${s.id}`},[ae,b(" Files ")],8,oe)])]),e("tr",null,[e("th",null,o(t.__("Discussion")),1),e("td",null,[i(v,{href:t.route("student.lessons.discussion.index",s.id)},{default:y(()=>[le,b(" "+o(t.__("Discussion")),1)]),_:2},1032,["href"])])])])])])]),e("div",{class:x(["modal fade",`lesson-files-${s.id}`]),tabindex:"-1",role:"dialog","aria-labelledby":"mySmallModalLabel","aria-hidden":"true"},[e("div",ne,[e("div",de,[ie,e("div",re,[s.files.length===0?(a(),l("p",ce,"No files found!")):(a(!0),l(u,{key:1},f(s.files,h=>(a(),l("p",{key:h.name},[e("a",{href:h.url,download:""},o(h.name),9,_e)]))),128))])])])],2)]))),128))])):(a(),l("div",ue,he))])])])],64)}const Se=M(V,[["render",fe]]);export{Se as default};
