import{_ as H,L as C,H as N,S as L,P as A,D as P,p as x,u as M,E as c,o as i,e as r,b as u,a as e,t as l,f as v,m as V,g as p,w as B,v as k,B as S,F as y,i as E}from"./app-31c25c41.js";import j from"./Layout-e4c38fc2.js";import"./sweetalert2.all-ca2a8785.js";import{h as D}from"./moment-fbc5633a.js";const F={props:{studentIds:Array,users:Object,school_class:Object,errors:Object},name:"admin-layout",components:{Link:C,Head:N,Layout:j,Sidebar:L,PageHeader:A,PageMainHeader:P,moment:D},setup(a){x(()=>{t.allSelected=a.studentIds.length===a.users.data.length});const t=M({studentIds:a.studentIds,allSelected:!1});function d(h){h.target.checked?(t.allSelected=!0,a.users.data.forEach(n=>{t.studentIds.push(n.student.id)})):(t.allSelected=!1,t.studentIds=[])}function o(h,n){h.target.checked?t.studentIds.push(n):t.studentIds=t.studentIds.filter(f=>f!==n);let _=$(".check-student:checked").length,m=a.users.data.length;t.allSelected=_===m}return{form:t,selectAll:d,selectStudent:o}}},O={class:"page-wrapper"},U={class:"page-main-header"},T={class:"page-body-wrapper"},q={class:"page-body"},z={class:"container-fluid"},G={class:"container-fluid"},J={key:0,class:"alert alert-success",role:"alert"},K={key:0,class:"alert alert-danger dark alert-dismissible fade show",role:"alert"},Q=e("button",{class:"btn-close",type:"button","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),R={class:"row"},W={class:"col-sm-12"},X={class:"card"},Y={class:"card-header"},Z=e("h5",null,[e("i",{class:"fa fa-users"}),p(" Add Students")],-1),ee={class:"card-header-right"},te=e("i",{class:"fa fa-arrow-left text-white"},null,-1),se={class:"card-body"},ae={class:"table-responsive"},oe={class:"table table-sm"},de=e("th",{scope:"col"},"Name",-1),le=e("th",{scope:"col"},"Email",-1),ne=e("th",{scope:"col"},"NISN",-1),ce={scope:"row"},ie=["id","value","onClick"],re=e("div",{class:"row mt-4"},[e("div",{class:"col-md-12"},[e("button",{type:"submit",class:"btn btn-primary float-right"}," Add to Class ")])],-1);function ue(a,t,d,o,h,n){const _=c("Head"),m=c("PageMainHeader"),f=c("Sidebar"),I=c("PageHeader"),w=c("Link");return i(),r(y,null,[u(_,{title:"Assign Students"}),e("div",O,[e("div",U,[u(m)]),e("div",T,[u(f),e("div",q,[e("div",z,[u(I)]),e("div",G,[a.$page.props.flash.success?(i(),r("div",J,[e("p",null,l(a.$page.props.flash.success),1)])):v("",!0),e("form",{class:"form theme-form",onSubmit:t[3]||(t[3]=V(s=>o.form.post(a.route("admin.school-class.add-students.store",d.school_class.id)),["prevent"]))},[d.errors.studentIds?(i(),r("div",K,[p(l(d.errors.studentIds)+" ",1),Q])):v("",!0),e("div",R,[e("div",W,[e("div",X,[e("div",Y,[Z,e("span",null,"Select and add students to the class "+l(d.school_class.name),1),e("div",ee,[u(w,{href:a.route("admin.school-classes.index"),class:"btn btn-success"},{default:B(()=>[te,p(" Back to list ")]),_:1},8,["href"])])]),e("div",se,[e("div",ae,[e("table",oe,[e("thead",null,[e("tr",null,[e("th",null,[k(e("input",{id:"chk-ani-all",type:"checkbox",onClick:t[0]||(t[0]=s=>o.selectAll(s)),"onUpdate:modelValue":t[1]||(t[1]=s=>o.form.allSelected=s)},null,512),[[S,o.form.allSelected]])]),de,le,ne])]),e("tbody",null,[(i(!0),r(y,null,E(d.users.data,s=>{var g;return i(),r("tr",{key:s.student.id},[e("th",ce,[k(e("input",{class:"check-student",id:`user-${s.student.id}`,type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=b=>o.form.studentIds=b),value:s.student.id,onClick:b=>o.selectStudent(b,s.student.id)},null,8,ie),[[S,o.form.studentIds]])]),e("td",null,l(s.name),1),e("td",null,l(s.email),1),e("td",null,l((g=s.student)==null?void 0:g.NISN_number),1)])}),128))])])]),re])])])])],32)])])])])],64)}const be=H(F,[["render",ue]]);export{be as default};
